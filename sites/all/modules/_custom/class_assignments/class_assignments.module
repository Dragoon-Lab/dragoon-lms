<?php

function class_assignments_menu(){
	$items = array();
	
	$items['class/%code'] = array(
		'page callback' => 'class_assignments_render_page',
		'page arguments' => array(1),
		'access arguments' => array('access content'),
		'type' => MENU_CALLBACK,
	);

	return $items;
}

function class_assignments_render_page($code){
	$query = 'SELECT * FROM classes WHERE code = :code';
	$result = db_query($query, array(':code' => $code));

	if($result->rowCount() == 0){
		return t('No class found');
	} else {
		$row = $result->fetchAssoc(); //doing it here because there should be one class only with one code due to uniqueness of class code
		return '<h2>'.t($row['name']).'</h2>';
	}
}
